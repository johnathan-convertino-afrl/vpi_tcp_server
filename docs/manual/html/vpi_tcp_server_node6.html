<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2021.2 (Released July 1, 2021) -->
<HTML lang="en">
<HEAD>
<TITLE>Architecture</TITLE>
<META NAME="description" CONTENT="Architecture">
<META NAME="keywords" CONTENT="html">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2021.2">

<LINK REL="STYLESHEET" HREF="html.css">

<LINK REL="next" HREF="vpi_tcp_server_node7.html">
<LINK REL="previous" HREF="vpi_tcp_server_node2.html">
<LINK REL="next" HREF="vpi_tcp_server_node7.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="vpi_tcp_server_node7.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="html.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="vpi_tcp_server_node5.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html44"
  HREF="vpi_tcp_server_node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="vpi_tcp_server_node7.html">Building</A>
<B> Up:</B> <A
 HREF="html.html">html</A>
<B> Previous:</B> <A
 HREF="vpi_tcp_server_node5.html">fusesoc_info Depenecies</A>
 &nbsp; <B>  <A ID="tex2html45"
  HREF="vpi_tcp_server_node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A ID="SECTION00030000000000000000">
Architecture</A>
</H1>

<P>
This VPI library provides three functions for the user to use during simulation for creating a TCP server. They are setup_tcp_server, recv_tcp_server, and send_tcp_server.
These are used to setup the server on a port, receive data, and send data respectivly. These functions use ringbuffers and multithreading to seperate server I/O from the simulation
so TCP access will not slow down the simulation.

<P>
The setup_tcp_server is given an address, usually local or a ethernet port address, to use and a port. It will attempt to use this information and create an active connection.
The connection is stored and is based upon its port number. Meaning all send and recvs use the port number to differentiate the connects. This obviously has its flaws, but
provides a simple interface to the end user. This function has to be called first before recv or send.

<P>
The recv_tcp_server will read data from the socket setup by setup_tcp_server. The port must match the port given setup. It will read and return the number of bytes into the vector.
This will also return the number of bytes read. Since this is a non-blocking function this can be zero.

<P>
The send_tcp_server will write data to the socket setup by setup_tcp_server. The port must match the port given in setup. It will write and return the number of bytes written to the socket.
This will also return the number of bytes written. This is non-blocking and can write zero bytes if it is unable to.

<P>
Please see <A HREF="vpi_tcp_server_node15.html#Code_Documentation"><IMG  ALT="[*]" SRC="crossref.png"></A> for more information per target.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="vpi_tcp_server_node7.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="html.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="vpi_tcp_server_node5.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html44"
  HREF="vpi_tcp_server_node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="vpi_tcp_server_node7.html">Building</A>
<B> Up:</B> <A
 HREF="html.html">html</A>
<B> Previous:</B> <A
 HREF="vpi_tcp_server_node5.html">fusesoc_info Depenecies</A>
 &nbsp; <B>  <A ID="tex2html45"
  HREF="vpi_tcp_server_node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
